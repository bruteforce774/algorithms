GDB Quick Reference for Debugging Insertion Sort
================================================

COMPILING WITH DEBUG SYMBOLS
-----------------------------
g++ -g -o main main.cpp

STARTING GDB
------------
gdb ./main

SETTING BREAKPOINTS
-------------------
break insertion_sort          # Break at function entry
break utils.h:7               # Break at specific line number
break utils.h:11              # Break at while loop condition
info breakpoints              # List all breakpoints
delete 1                      # Delete breakpoint #1
clear utils.h:7               # Clear breakpoint at line

RUNNING THE PROGRAM
-------------------
run                           # Start program (shorthand: r)
continue                      # Continue to next breakpoint (shorthand: c)
quit                          # Exit gdb (shorthand: q)

STEPPING THROUGH CODE
---------------------
next                          # Execute next line, step over functions (shorthand: n)
step                          # Step into functions (shorthand: s)
finish                        # Run until current function returns
until                         # Run until line number greater than current

INSPECTING VARIABLES
--------------------
print i                       # Print value of variable i (shorthand: p i)
print key                     # Print value of key
print arr[i]                  # Print specific array element
print arr[0]@6                # Print first 6 elements of array
print j >= 0 && arr[j] > key  # Evaluate expressions
display i                     # Auto-print i after each step
undisplay 1                   # Stop auto-displaying variable #1
info locals                   # Show all local variables
info args                     # Show function arguments

VIEWING CODE
------------
list                          # Show source code around current line (shorthand: l)
list insertion_sort           # Show code for specific function
list utils.h:7                # Show code at specific line
where                         # Show current location in code
backtrace                     # Show call stack (shorthand: bt)

WATCHING MEMORY
---------------
watch arr[0]                  # Break when arr[0] changes
watch j                       # Break when j changes
info watchpoints              # List all watchpoints

EXAMPLE DEBUGGING SESSION FOR INSERTION SORT
---------------------------------------------
STEP-BY-STEP: Follow these commands exactly to debug insertion_sort

Step 1: Start gdb
$ cd /home/daniel/Desktop/algorithms/code
$ gdb ./main

Step 2: Set breakpoint at the function
(gdb) break insertion_sort
You'll see: Breakpoint 1 at 0x... (2 locations)

Step 3: Start the program
(gdb) run
Program stops at line 7: for (int i = 1; i < n; i++) {

Step 4: Display the array (arr always exists as a function parameter)
(gdb) display arr[0]@6
Shows: {5, 4, 2, 6, 1, 3}

Step 5: Step to line 8 (enters the loop, i now exists)
(gdb) next
Now at line 8: int key = arr[i];

Step 6: Display i (i now exists after entering the loop)
(gdb) display i
Shows: i = 1

Step 7: Step to line 10 (key now exists)
(gdb) next
Now at line 10: int j = i - 1;

Step 8: Display key (key now exists)
(gdb) display key
Shows: key = 4 (which is arr[1])

Step 9: Step to line 11 (j now exists)
(gdb) next
Now at line 11: while (j >= 0 && arr[j] > key) {

Step 10: Display j (j now exists)
(gdb) display j
Shows: j = 0

Step 11: Keep stepping - just press Enter to repeat 'next'
(gdb) next
(gdb) [press Enter]
(gdb) [press Enter]
... continue pressing Enter and watch the values change!

What you'll see:
- The while condition evaluates (j >= 0 && arr[j] > key)
- Elements shift right: arr becomes {5, 5, 2, 6, 1, 3}
- j decrements to -1
- Loop exits and key is inserted: arr becomes {4, 5, 2, 6, 1, 3}
- Loop continues with i = 2, key = 2, and the process repeats

NOTE: Variables only exist after they're declared! That's why we add display
commands at specific steps as each variable comes into scope.

USEFUL TIPS
-----------
- Press Enter to repeat the last command
- Use Tab for auto-completion
- Use Ctrl+C to interrupt a running program
- Use "display arr[0]@6" to automatically show array after each step
- Set breakpoint at line 11 (while loop) to watch each comparison

COMMON ISSUES
-------------
- If you see "No symbol table", recompile with -g flag
- If breakpoint doesn't hit, check function/file names are correct
- If variables show <optimized out>, compile with -O0 flag: g++ -g -O0 -o main main.cpp
